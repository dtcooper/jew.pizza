{% extends 'admin_tools/form.html' %}

{% block extra_head %}
  <script src="{{ static('admin_tools/vendor/js/alpine.js') }}" defer></script>
{% endblock %}

{% block form %}
  <div
    x-data="{message: '', audience: {{ form.audience.value()|attrjs }}}"
    x-init="
      document.getElementById('id_phone_number').parentNode.setAttribute('x-show', 'audience === \'single\'')
    "
  >
    {{ super() }}
    <p>
      Message Preview:
      <pre x-text="message.trim() || 'Preview goes here...'"></pre>
    </p>
  </div>
{% endblock %}
